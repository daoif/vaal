VAAL
	愿景
		解决问题
			手动拆分任务太累
			逐个执行任务低效
			重复验证和提交繁琐
		目标用户
			有大量任务需求的开发者
			使用AI辅助编码的团队
		核心价值
			自动化任务循环
			保证代码质量
			节省人力时间
	设计理念
		前期多交互
			设计阶段充分对话
			打磨需求和方案
		自动化不停顿
			拆分阶段全自动
			执行阶段全自动
		最终审批
			拆分后输出报告
			用户确认后执行
	核心概念
		约束集
			硬约束
				必须满足
				验证失败则停止
			软约束
				建议满足
				记录警告继续
			依赖
				前置条件
				未完成则跳过
			风险
				注意事项
				提示AI关注
		约束层级
			项目级约束
				AGENTS.md
				project-constraints.md
			模块级约束
				modules目录下的md文件
			任务级约束
				嵌入任务描述中
		槽位架构
			调度器模式
				只负责调用槽位
				不包含业务逻辑
			三阶段执行
				global全局阶段
				loop循环阶段
				finally结束阶段
			可扩展性
				替换槽位脚本
				增删pipeline数组
	功能模块
		init模块
			职责
				创建workspace目录
				复制配置模板
			输入
				用户运行setup.js
			输出
				_workspace目录结构
				config.json配置文件
				project-constraints.md
				tasks.md模板
		split模块
			职责
				设计文档拆分为任务
			pipeline
				global阶段
					getDesign读取设计文档
					parseModules拆分模块
					loadModules加载模块
				loop阶段
					genTasks生成任务
					validateFormat验证格式
				finally阶段
					mergeTasks合并任务
					sortDeps依赖排序
					checkConsist1一致性检查
					genUserStories用户故事
					checkConsist2覆盖检查
					report输出报告
			输入
				设计文档original.md
			输出
				modules模块文件
				tasks-draft任务草稿
				user-stories.md
				report.md差异报告
				tasks.md最终任务
		exec模块
			职责
				自动循环执行任务
			pipeline
				global阶段
					init初始化上下文
					loadTasks加载任务
				loop阶段
					readNext读取下一任务
					loadConstraints加载约束
					execute调用AI执行
					validate运行验证
					git提交代码
					markDone标记完成
				finally阶段
					report输出报告
			输入
				tasks.md任务列表
				config.json配置
			输出
				更新后的tasks.md
				progress.txt进度记录
				Git提交历史
	文件结构
		init目录
			docs引导文档
			scripts初始化脚本
			templates配置模板
		split目录
			docs拆分文档
			scripts拆分调度器
			slots槽位脚本
			templates提示词模板
		exec目录
			docs执行文档
			scripts执行调度器
			slots槽位脚本
		_workspace目录
			split运行时
				design设计文档存档
				modules模块文件
				tasks-draft任务草稿
			exec运行时
				config.json配置
				tasks.md任务列表
				progress.txt进度
				project-constraints.md
	用户故事
		安装VAAL
			git clone即可
			零依赖无需npm
		初始化配置
			运行setup.js
			AI引导配置
		导入设计文档
			粘贴内容
			指定路径
		自动拆分任务
			运行split脚本
			自动验证一致性
			输出差异报告
		自动执行任务
			运行exec脚本
			自动检查依赖
			自动验证提交
		查看进度
			控制台实时显示
			progress.txt历史
		自定义扩展
			替换槽位脚本
			修改pipeline数组
	技术约束
		零npm依赖
			只用Node内置模块
		AI工具支持
			Codex
			Claude
			自定义命令模板
		Git集成
			自动commit
			可选push
			conventional风格
	设计决策
		任务拆分脚本化
			保证质量可控
			复用槽位机制
		约束依赖测试验证
			AI负责遵守约束
			测试验证结果
		只支持Markdown
			对AI更友好
			约束内容易表达
		暂不支持in-progress
			单线程执行足够
			未来可扩展
